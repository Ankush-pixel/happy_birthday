<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Celebration!</title>
    <!-- Tailwind CSS CDN for easy styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Dancing Script for festive titles -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* Background image from user upload */
            background-image: url('/assets/birthday.jpeg');
            background-size: cover; /* Cover the entire viewport */
            background-position: center; /* Center the image */
            background-repeat: no-repeat; /* Do not repeat */
            background-attachment: fixed; /* Keep background fixed when scrolling, if content overflows */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            /* overflow: hidden; was removed to allow scrolling on smaller screens */
            position: relative;
            color: #333;
        }

        .celebration-container {
            /* background-color: rgba(255, 255, 255, 0.95); */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border-radius: 30px;
            padding: 3rem;
            text-align: center;
            max-width: 95%;
            width: 800px;
            position: relative;
            animation: fadeInScale 1s ease-out forwards;
            z-index: 10;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            color: #8B0000; /* Dark Red */
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin-bottom: 1rem;
            animation: slideInDown 1s ease-out forwards;
        }

        .banner {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            font-weight: bold;
            color: #FFD700; /* Gold */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
            margin-bottom: 2rem;
            animation: bounceIn 1.5s ease-out forwards;
        }

        /* Cake Container for the Image */
        .cake-container {
            position: relative;
            width: 450px; /* Increased width for the image */
            height: 450px; /* Increased height for the image */
            margin: 3rem auto;
            display: flex;
            justify-content: center;
            align-items: center;
            /* No cursor pointer as it's not interactive for cutting */
        }

        .cake-image {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ensures the image fits within its container */
            border-radius: 15px; /* Soften edges of the image */
            box-shadow: 0 10px 20px rgba(0,0,0,0.2); /* Add a nice shadow to the cake image */
        }

        /* Candles */
        .candle-container {
            position: absolute;
            top: 20%; /* Position above the cake image (adjust as needed for your specific cake image) */
            left: 50%;
            transform: translateX(-50%);
            width: 80%; /* Adjust width to spread candles across the cake top */
            display: flex;
            justify-content: space-around;
            z-index: 11; /* Ensure candles are above the cake image */
        }
        .candle {
            width: 8px;
            height: 30px;
            background-color: #FFA07A; /* Light Salmon */
            border-radius: 2px;
            position: relative;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
            animation: flicker 1s infinite alternate;
        }
        .flame {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 15px;
            background: radial-gradient(circle at 50% 0%, yellow 0%, orange 50%, transparent 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            box-shadow: 0 0 8px yellow;
            animation: flameWobble 0.5s infinite alternate;
        }

        @keyframes flicker {
            0% { opacity: 1; }
            50% { opacity: 0.9; }
            100% { opacity: 1; }
        }
        @keyframes flameWobble {
            0% { transform: translateX(-50%) rotate(0deg); }
            25% { transform: translateX(-50%) rotate(-2deg); }
            75% { transform: translateX(-50%) rotate(2deg); }
            100% { transform: translateX(-50%) rotate(0deg); }
        }

        /* Audio Controls */
        #birthdaySong {
            margin-top: 2rem;
            width: 80%;
            max-width: 400px;
        }

        .button-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem; /* Space between buttons */
            margin-top: 3rem;
        }

        .celebrate-btn {
            background: linear-gradient(45deg, #ff6b6b, #f06595);
            color: white;
            font-weight: bold;
            padding: 0.75rem 2rem;
            border-radius: 9999px;
            border: none;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(240, 101, 149, 0.4);
            transition: all 0.3s ease-in-out;
            font-size: 1.1rem;
        }
        
        .celebrate-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .celebrate-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 20px rgba(240, 101, 149, 0.5);
        }


        /* Go Back Button Styling */
        .go-back-btn {
            /* margin-top is now on the container */
            background-color: #6A5ACD; /* Slate Blue */
            color: white;
            font-weight: bold;
            padding: 0.75rem 2rem;
            border-radius: 9999px; /* Fully rounded */
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out;
        }
        .go-back-btn:hover {
            background-color: #483D8B; /* Darker Slate Blue */
            transform: translateY(-3px);
        }

        /* General Animations */
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes slideInDown {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounceIn {
            0%, 20%, 40%, 60%, 80%, 100% {
                -webkit-transition-timing-function: cubic-bezier(0.215, .61, .355, 1);
                transition-timing-function: cubic-bezier(0.215, .61, .355, 1);
            }
            0% { opacity: 0; -webkit-transform: scale3d(.3, .3, .3); transform: scale3d(.3, .3, .3); }
            20% { -webkit-transform: scale3d(1.1, 1.1, 1.1); transform: scale3d(1.1, 1.1, 1.1); }
            40% { -webkit-transform: scale3d(.9, .9, .9); transform: scale3d(.9, .9, .9); }
            60% { opacity: 1; -webkit-transform: scale3d(1.03, 1.03, 1.03); transform: scale3d(1.03, 1.03, 1.03); }
            80% { -webkit-transform: scale3d(.97, .97, .97); transform: scale3d(.97, .97, .97); }
            100% { opacity: 1; -webkit-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); }
        }

        /* Floating Balloons (continuous) */
        .floating-balloon {
            position: fixed; /* Use fixed to cover entire viewport */
            width: 40px;
            height: 50px;
            background-color: #ff69b4; /* Default pink */
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            opacity: 0.7;
            animation: floatUp 10s linear infinite; /* Continuous float */
            z-index: 1; /* Below the main content */
        }
        .floating-balloon::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 2px solid transparent;
            border-right: 2px solid transparent;
            border-top: 10px solid currentColor; /* String color matches balloon */
            width: 0;
            height: 0;
        }
        /* Random colors for floating balloons */
        .floating-balloon:nth-child(2n) { background-color: #8A2BE2; } /* Blue Violet */
        .floating-balloon:nth-child(3n) { background-color: #00CED1; } /* Dark Turquoise */
        .floating-balloon:nth-child(4n) { background-color: #32CD32; } /* Lime Green */
        .floating-balloon:nth-child(5n) { background-color: #FFD700; } /* Gold */

        /* Twinkling Stars (continuous) */
        .twinkling-star {
            position: fixed;
            width: 5px;
            height: 5px;
            background-color: #FFD700; /* Gold */
            border-radius: 50%;
            opacity: 0;
            animation: sparkle 2s linear infinite; /* Continuous sparkle */
            z-index: 1;
        }
        @keyframes sparkle {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }

        /* Happy Birthday Ankureet Text */
        .birthday-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Dancing Script', cursive;
            font-size: 4rem; /* Large text */
            font-weight: bold;
            color: #FF1493; /* Deep Pink */
            text-shadow: 5px 5px 10px rgba(0,0,0,0.6);
            opacity: 0; /* Hidden by default */
            z-index: 100; /* Above all other content */
            pointer-events: none; /* Allow clicks through */
        }

        @keyframes fadeInMessage {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.7); }
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        @keyframes fadeOutContainer {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.9); pointer-events: none; }
        }

        /* Party Popper Effect */
        .popper-confetti {
            position: fixed;
            width: 8px;
            height: 15px;
            background-color: red; /* will be randomized by JS */
            opacity: 0;
            animation: burst 1.5s ease-out forwards;
            z-index: 200; /* On top of everything */
        }
        .falling-heart{
            position: fixed;
            top: -50px;
            font-size:24px;
            color: #FF1493;
            opacity: 0.8;
            animation:fallHeart 4s linear forwards;
            z-index:99;
        }
        @keyframes fallingHeart{
            0%{
                transform: translateY(0) rotate(0deg);
                opacity:1;
            }
            100%{
                transform: translateY(120vh) rotate(360deg);
                opacity: 0;
            }
        }
        @keyframes burst {
            0% {
                transform: translate(0, 0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--x-end), var(--y-end)) rotate(720deg);
                opacity: 0;
            }
            
        }
    </style>
</head>
<body>
    <!-- Floating Balloons (generated by JS) -->
    <!-- Twinkling Stars (generated by JS) -->
    <!-- Happy Birthday Ankureet Text -->
    <div id="birthdayMessage" class="birthday-message">Happy Birthday Ankureet! <br> May Your All<br> Dreams Sucessfully True</div>

    <div class="celebration-container">
        <div class="banner">Happy Birthday!</div>
        <h1>Let's Celebrate!</h1>

        <div class="cake-container" id="cakeContainer">
            <!-- Replaced CSS cake with an image -->
            <img src="assets/ChatGPT Image Jul 27, 2025, 05_19_03 PM.png" alt="Birthday Cake" class="cake-image" id="birthdayCakeImage">
            
            <div class="candle-container">
                <div class="candle"><div class="flame"></div></div>
                <div class="candle"><div class="flame"></div></div>
                <div class="candle"><div class="flame"></div></div>
                <div class="candle"><div class="flame"></div></div>
                <div class="candle"><div class="flame"></div></div>
            </div>
            <!-- Removed the cake-slice element and cutting instruction -->
        </div>

        <audio id="audio" src="assets/images/Happy_Birthday_5.mp3" playsinline loop></audio>

        <div class="button-container">
            <button id="celebrateBtn" class="celebrate-btn">Celebrate!</button>
            <button id="goBackBtn" class="go-back-btn"> Card</button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const birthdayCakeImage = document.getElementById('birthdayCakeImage'); // Reference to the image
            const cakeContainer = document.getElementById('cakeContainer'); // Still need container for positioning candles
            const birthdaySong = document.getElementById('birthdaySong');
            const goBackBtn = document.getElementById('goBackBtn');
            const birthdayMessage = document.getElementById('birthdayMessage');
            const celebrateBtn = document.getElementById('celebrateBtn');
            const celebrationContainer = document.querySelector('.celebration-container');
            const audio=document.getElementById('audio');
            // Go back button functionality
            goBackBtn.addEventListener('click', () => {
                window.location.href = "birthday_letter.html";
            });

            // Autoplay the song when the page loads
            if (birthdaySong) {
                birthdaySong.play().catch(error => {
                    console.log("Autoplay prevented. User interaction might be needed to play audio.", error);
                    // You might want to show a play button if autoplay fails
                });
            }

            // --- Party Popper Function ---
            function triggerPartyPoppers() {
                const popperCount = 100;
                const colors = ['#FFD700', '#FF69B4', '#8A2BE2', '#00CED1', '#32CD32', '#FF4500'];
                for (let i = 0; i < popperCount; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('popper-confetti');
                    
                    // Start from center of the screen
                    confetti.style.left = '50vw';
                    confetti.style.top = '50vh';
                    
                    const xEnd = (Math.random() - 0.5) * window.innerWidth * 1.5;
                    const yEnd = (Math.random() - 0.5) * window.innerHeight * 1.5;
                    
                    confetti.style.setProperty('--x-end', `${xEnd}px`);
                    confetti.style.setProperty('--y-end', `${yEnd}px`);
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    
                    document.body.appendChild(confetti);
                    confetti.addEventListener('animationend', () => confetti.remove());
                }
            }

            function createFloatingBalloon() {
                const balloon = document.createElement('div');
                balloon.classList.add('floating-balloon');
                balloon.style.left = Math.random() * 100 + 'vw';
                balloon.style.bottom = -50 + 'px'; // Start below viewport
                balloon.style.animationDuration = (Math.random() * 8 + 10) + 's'; // 10-18s float time
                balloon.style.animationDelay = Math.random() * 5 + 's'; // Stagger start times
                const balloonColors = ['#ff69b4', '#8A2BE2', '#00CED1', '#32CD32', '#FFD700', '#FF4500', '#DA70D6'];
                balloon.style.backgroundColor = balloonColors[Math.floor(Math.random() * balloonColors.length)];
                document.body.appendChild(balloon);

                balloon.addEventListener('animationend', () => {
                    balloon.remove();
                    createFloatingBalloon(); // Re-create balloon to make it continuous
                });
            }
            window.addEventListener('click', () => {
                // const audio = document.getElementById('audio');
                audio.play();
                setInterval(()=>{
                   window.location.href="birthday_letter.html";
                },40000);
                
            });

            function createTwinklingStar() {
                const star = document.createElement('div');
                star.classList.add('twinkling-star');
                star.style.left = Math.random() * 100 + 'vw';
                star.style.top = Math.random() * 100 + 'vh';
                star.style.animationDuration = (Math.random() * 1 + 1.5) + 's'; // 1.5-2.5s sparkle time
                star.style.animationDelay = Math.random() * 2 + 's'; // Stagger start times
                document.body.appendChild(star);

                star.addEventListener('animationend', () => {
                    star.remove();
                    createTwinklingStar(); // Re-create star to make it continuous
                });
            }
            function createFallingHeart() {
                const heart = document.createElement('div');
                heart.classList.add('falling-heart');
                heart.textContent = 'ðŸ’–';

                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = (Math.random() * 10 + 20) + 'px';
                heart.style.animationDuration = (Math.random() * 3 + 3) + 's'; // 3-6s
                heart.style.animationDelay = Math.random() * 2 + 's';

                document.body.appendChild(heart);

                heart.addEventListener('animationend', () => {
                    heart.remove();
                    createFallingHeart(); // Keep generating hearts
                });
            }


            // --- Event Listener for the Celebrate Button ---
            celebrateBtn.addEventListener('click', () => {
                // Disable the button immediately to prevent multiple clicks
                celebrateBtn.disabled = true;

                // 1. Trigger party poppers!
                triggerPartyPoppers();

                // 2. Start the balloons and stars animations
                for (let i = 0; i < 15; i++) {
                    createFloatingBalloon();

                }
                for (let i = 0; i < 30; i++) {
                    createTwinklingStar();
                }
                for(let i=0;i<30;i++){
                    createFallingHeart();
                }
                // 3. Show the "Happy Birthday" message after a short delay
                setTimeout(() => {
                    // Fade out the main container to make room for the message
                    if (celebrationContainer) {
                        celebrationContainer.style.animation = 'fadeOutContainer 1s ease-out forwards';
                    }
                    birthdayMessage.style.animation = 'fadeInMessage 2s ease-out forwards';
                    
                }, 1500); // 1.5 second delay
            });
            createFallingHeart();
            createFloatingBalloon();
            createTwinklingStar();
            
        });
    </script>
</body>
</html>
