<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Special Birthday Message!</title>
  <link rel="stylesheet" href="assets/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Lato:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(120deg, #f8fafc 0%, #ffe0ec 100%);
      min-height: 100vh;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Lato', 'Segoe UI', 'Arial', sans-serif;
      overflow-x: hidden;
      position: relative;
    }
    .bg-animated {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 0;
      pointer-events: none;
      background: linear-gradient(270deg, #ffe0ec, #ffd6e0, #e0e7ff, #f8fafc, #ffe0ec);
      background-size: 200% 200%;
      animation: gradientMove 12s ease-in-out infinite;
      opacity: 0.7;
    }
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .particles {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 1;
    }
    .particle {
      position: absolute;
      border-radius: 50%;
      opacity: 0.18;
      background: radial-gradient(circle, #fff 0%, #ffd6e0 100%);
      animation: floatParticle 12s linear infinite;
    }
    @keyframes floatParticle {
      0% { transform: translateY(0) scale(1); opacity: 0.18; }
      50% { opacity: 0.28; }
      100% { transform: translateY(-120px) scale(1.2); opacity: 0.18; }
    }
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      min-height: 100vh;
      width: 100vw;
      z-index: 2;
    }
    /* Corner Decorations */
    .corner-deco {
      position: fixed;
      width: 120px;
      height: 120px;
      pointer-events: none;
      z-index: 20;
      opacity: 0.85;
      filter: drop-shadow(0 0 16px #ffb6c1) drop-shadow(0 0 32px #ffd700);
      transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    .corner-deco.tl { top: 0; left: 0; animation: floatTL 6s ease-in-out infinite alternate; }
    .corner-deco.tr { top: 0; right: 0; animation: floatTR 7s ease-in-out infinite alternate; }
    .corner-deco.bl { bottom: 0; left: 0; animation: floatBL 8s ease-in-out infinite alternate; }
    .corner-deco.br { bottom: 0; right: 0; animation: floatBR 5.5s ease-in-out infinite alternate; }
    @keyframes floatTL { 0%{transform:translateY(0) scale(1);} 100%{transform:translateY(18px) scale(1.08);} }
    @keyframes floatTR { 0%{transform:translateY(0) scale(1);} 100%{transform:translateY(12px) scale(1.06);} }
    @keyframes floatBL { 0%{transform:translateY(0) scale(1);} 100%{transform:translateY(-14px) scale(1.07);} }
    @keyframes floatBR { 0%{transform:translateY(0) scale(1);} 100%{transform:translateY(-20px) scale(1.09);} }
    .corner-deco svg { width: 100%; height: 100%; }
    .corner-deco:hover { opacity: 1; filter: drop-shadow(0 0 32px #ff69b4) drop-shadow(0 0 48px #ffd700); }
    /* Envelope and Letter Styles (unchanged) */
    .envelope {
      position: relative;
      width: 480px;
      height: 320px;
      background: rgba(255,255,255,0.25);
      border-radius: 24px;
      box-shadow: 0 20px 60px 0 #ffb6c1cc, 0 8px 32px rgba(0,0,0,0.15), 0 0 80px 10px #ffd70044, 0 1.5px 8px rgba(0,0,0,0.07);
      margin-bottom: 32px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border: 2.5px solid #ffb6c1;
      background-clip: padding-box;
      z-index: 2;
      backdrop-filter: blur(12px) saturate(1.2);
      -webkit-backdrop-filter: blur(12px) saturate(1.2);
      overflow: hidden;
    }
    .envelope:hover {
      transform: scale(1.05) rotateY(5deg);
      box-shadow: 0 30px 80px rgba(255, 20, 147, 0.4), 0 15px 40px rgba(0,0,0,0.2), 0 0 120px 20px #ffd70066, 0 1.5px 8px rgba(0,0,0,0.07);
    }
    .envelope.open {
      transform: scale(1.1) rotateZ(-2deg);
      box-shadow: 0 40px 100px rgba(255, 20, 147, 0.5), 0 20px 50px rgba(0,0,0,0.25), 0 0 160px 40px #ffd70099, 0 1.5px 8px rgba(0,0,0,0.07);
    }
    .envelope-flap {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 80px;
      background: linear-gradient(135deg, #ff69b4 0%, #ff1493 50%, #ff69b4 100%);
      border-radius: 24px 24px 0 0;
      clip-path: polygon(0 0, 50% 100%, 100% 0);
      transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      box-shadow: 0 4px 15px rgba(255, 20, 147, 0.3);
    }
    .envelope.open .envelope-flap {
      transform: rotateX(180deg) translateY(-20px);
      box-shadow: 0 8px 25px rgba(255, 20, 147, 0.5);
    }
    .bow {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-45deg);
      width: 100px;
      height: 100px;
      z-index: 3;
    }
    .bow::before, .bow::after {
      content: "";
      position: absolute;
      width: 50px;
      height: 50px;
      background: linear-gradient(45deg, #ff1493, #ff69b4);
      border-radius: 50px 50px 0 50px;
      box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
      animation: bowPulse 2s ease-in-out infinite;
    }
    .bow::after {
      transform: rotate(90deg);
      border-radius: 50px 50px 0 50px;
    }
    @keyframes bowPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .letter-content { display: none; }
    .letter-reveal {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.7) rotate(-8deg);
      background: rgba(255,255,255,0.35);
      border-radius: 32px;
      box-shadow: 0 0 0 8px #fff0f5cc, 0 12px 48px 0 #ffb6c1cc, 0 1.5px 8px rgba(0,0,0,0.07), 0 0 80px 10px #ffd70044;
      padding: 64px 44px 56px 44px;
      max-width: 540px;
      min-width: 320px;
      text-align: center;
      z-index: 10;
      border: 3.5px solid #ffb6c1;
      animation: popIn 1.1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      transition: box-shadow 0.5s, transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      backdrop-filter: blur(18px) saturate(1.3);
      -webkit-backdrop-filter: blur(18px) saturate(1.3);
      overflow: hidden;
    }
    .letter-reveal.show {
      transform: translate(-50%, -50%) scale(1) rotate(0deg);
      box-shadow: 0 0 0 16px #fff0f5cc, 0 24px 64px 0 #ffb6c1cc, 0 1.5px 8px rgba(0,0,0,0.07), 0 0 120px 20px #ffd70066;
    }
    @keyframes popIn {
      0% { opacity: 0; transform: translate(-50%, -60%) scale(0.5) rotate(-16deg); }
      60% { opacity: 1; transform: translate(-50%, -52%) scale(1.08) rotate(4deg); }
      100% { opacity: 1; transform: translate(-50%, -50%) scale(1) rotate(0deg); }
    }
    .greeting {
      font-family: 'Great Vibes', cursive;
      font-size: 4rem;
      font-weight: bold;
      background: linear-gradient(90deg, #ff007a 0%, #ff1493 25%, #e75480 50%, #ff69b4 75%, #ffd700 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 24px;
      letter-spacing: 2px;
      text-shadow: 0 4px 16px rgba(255, 20, 147, 0.45), 0 2px 8px #ff007a99, 0 1px 2px #ffd70099;
      animation: textShine 3s ease-in-out infinite;
    }
    @keyframes textShine {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.2); }
    }
    .message {
      font-size: 1.22rem;
      font-family: 'Lato', sans-serif;
      color: #4a4a4a;
      line-height: 1.9;
      margin-bottom: 0;
      text-shadow: 0 1px 2px rgba(255,255,255,0.8);
      min-height: 60px;
    }
    .footer {
      margin-top: 32px;
      font-size: 1.25rem;
      color: #ff1493;
      letter-spacing: 1px;
      font-weight: 600;
      text-shadow: 0 2px 4px rgba(255, 20, 147, 0.3);
      animation: footerGlow 2s ease-in-out infinite alternate;
    }
    @keyframes footerGlow {
      0% { text-shadow: 0 2px 4px rgba(255, 20, 147, 0.3); }
      100% { text-shadow: 0 4px 8px rgba(255, 20, 147, 0.6), 0 0 20px rgba(255, 20, 147, 0.4); }
    }
    .click-hint {
      margin-top: 20px;
      font-size: 1rem;
      color: #ff69b4;
      font-style: italic;
      font-weight: 500;
      text-shadow: 0 1px 3px rgba(255, 105, 180, 0.4);
      animation: hintPulse 2s ease-in-out infinite;
    }
    @keyframes hintPulse {
      0%, 100% { opacity: 0.7; transform: translateY(0); }
      50% { opacity: 1; transform: translateY(-3px); }
    }
    .balloon {
      position: fixed;
      top: -120px;
      width: 60px;
      height: 80px;
      z-index: 100;
      pointer-events: none;
      animation: balloonDrop 3.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
    }
    .balloon-photo { /* All static styles moved from JS to here */
        position: absolute;
        left: 50%;
        top: 130px;
        transform: translateX(-50%);
        width: 70px;
        height: 70px;
        border-radius: 50%;
        box-shadow: 0 8px 25px #ff69b4ff, 0 4px 15px #ffd700ff;
        border: 5px solid #fff;
        object-fit: cover;
        background: #fff0f5;
        z-index: 9999;
        animation: photoSwing 2.5s ease-in-out infinite alternate;
    }
    .balloon-photo.error {
      border: 4px solid #ff0000;
      background: #ffd6e0;
    }
    /* Confetti */
    .confetti {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 200;
    }
    .confetti-piece {
      position: absolute;
      width: 12px; height: 18px;
      border-radius: 4px;
      opacity: 0.85;
      will-change: transform, opacity;
    }
    /* Fireworks */
    .firework {
      position: fixed;
      left: 50%;
      top: 60%;
      width: 0; height: 0;
      pointer-events: none;
      z-index: 300;
    }
    .firework-dot {
      position: absolute;
      width: 10px; height: 10px;
      border-radius: 50%;
      opacity: 0.85;
      will-change: transform, opacity;
    }
    /* Stars/Hearts float up */
    .floatup {
      position: fixed;
      left: 50%;
      bottom: 40px;
      font-size: 2.2rem;
      opacity: 0.8;
      pointer-events: none;
      z-index: 400;
      animation: floatUp 2.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
    }
    @keyframes floatUp {
      0% { transform: translate(-50%, 0) scale(1); opacity: 0.8; }
      60% { opacity: 1; }
      100% { transform: translate(-50%, -220px) scale(1.3); opacity: 0; }
    }
    /* Replay Button */
    .replay-btn {
      margin-top: 32px;
      padding: 0.7em 2.2em;
      font-size: 1.1rem;
      font-weight: 700;
      color: #fff;
      background: linear-gradient(90deg, #ff69b4 0%, #ffd700 100%);
      border: none;
      border-radius: 999px;
      box-shadow: 0 2px 12px #ffd70055, 0 1.5px 8px #ff69b455;
      cursor: pointer;
      transition: transform 0.18s, box-shadow 0.18s, background 0.4s;
      outline: none;
      letter-spacing: 1px;
      position: relative;
      z-index: 10;
      overflow: hidden;
    }
    .replay-btn:hover {
      transform: scale(1.08) rotate(-2deg);
      background: linear-gradient(90deg, #ffd700 0%, #ff69b4 100%);
      box-shadow: 0 4px 24px #ffd70099, 0 2.5px 12px #ff69b499;
    }
    @media (max-width: 600px) {
      .envelope, .letter-reveal { max-width: 98vw; min-width: 0; padding: 18vw 2vw 10vw 2vw; }
      .greeting { font-size: 1.3rem; }
      .footer { font-size: 1rem; }
    }
  </style>
</head>
<body>
  <div class="bg-animated"></div>
  <div class="particles" id="particles"></div>
  <div class="container">
    <div class="corner-deco tl">
      <svg viewBox="0 0 120 120"><circle cx="30" cy="30" r="18" fill="#ffb6c1" opacity="0.7"/><circle cx="80" cy="40" r="10" fill="#ffd700" opacity="0.7"/><circle cx="60" cy="80" r="8" fill="#ff69b4" opacity="0.7"/><path d="M10,110 Q60,60 110,10" stroke="#ff69b4" stroke-width="4" fill="none" opacity="0.5"/><circle cx="100" cy="20" r="6" fill="#87ceeb" opacity="0.7"/></svg>
    </div>
    <div class="corner-deco tr">
      <svg viewBox="0 0 120 120"><circle cx="90" cy="30" r="18" fill="#ffd700" opacity="0.7"/><circle cx="40" cy="40" r="10" fill="#ffb6c1" opacity="0.7"/><circle cx="60" cy="80" r="8" fill="#32cd32" opacity="0.7"/><path d="M110,110 Q60,60 10,10" stroke="#ffd700" stroke-width="4" fill="none" opacity="0.5"/><circle cx="20" cy="20" r="6" fill="#ff69b4" opacity="0.7"/></svg>
    </div>
    <div class="corner-deco bl">
      <svg viewBox="0 0 120 120"><circle cx="30" cy="90" r="18" fill="#87ceeb" opacity="0.7"/><circle cx="80" cy="80" r="10" fill="#ffb6c1" opacity="0.7"/><circle cx="60" cy="40" r="8" fill="#ffd700" opacity="0.7"/><path d="M10,10 Q60,60 110,110" stroke="#32cd32" stroke-width="4" fill="none" opacity="0.5"/><circle cx="100" cy="100" r="6" fill="#ff1493" opacity="0.7"/></svg>
    </div>
    <div class="corner-deco br">
      <svg viewBox="0 0 120 120"><circle cx="90" cy="90" r="18" fill="#ff69b4" opacity="0.7"/><circle cx="40" cy="80" r="10" fill="#ffd700" opacity="0.7"/><circle cx="60" cy="40" r="8" fill="#8a2be2" opacity="0.7"/><path d="M110,10 Q60,60 10,110" stroke="#8a2be2" stroke-width="4" fill="none" opacity="0.5"/><circle cx="20" cy="100" r="6" fill="#ffb6c1" opacity="0.7"/></svg>
    </div>
    <div class="envelope" id="envelope" onclick="openEnvelope()">
      <div class="envelope-flap"></div>
      <div class="ribbon"></div>
      <div class="letter-content"></div>
    </div>
    <div class="letter-reveal" id="letterReveal" style="display:none;">
      <div class="greeting" id="greeting"></div>
      <div class="message" id="message"></div>
      <div class="footer">With all my Heart üíñ</div>
      <button class="replay-btn" id="replayBtn" style="display:none;">22 Points for you ‚ú®</button>
    </div>
    <div class="click-hint" id="clickHint">Click the envelope to open your special message ‚ô•</div>
    <div class="confetti" id="confetti"></div>
    <div id="fireworks"></div>
    <audio id="audio" src="assets/images/Happy_Birthday_5.mp3"></audio>
  </div>
  <script>
    // Floating Particles
    const audio = document.getElementById('audio');
    function createParticles() {
      const particles = document.getElementById('particles');
      for (let i = 0; i < 32; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.style.width = (18 + Math.random()*32) + 'px';
        p.style.height = (18 + Math.random()*32) + 'px';
        p.style.left = Math.random()*100 + 'vw';
        p.style.top = Math.random()*100 + 'vh';
        p.style.animationDuration = (8 + Math.random()*8) + 's';
        particles.appendChild(p);
      }
    }
    createParticles();
    // Balloons colors
    const balloonColors = [
      '#ff0000', // red
      '#00ff00', // green
      '#0000ff', // blue
      '#8a2be2', // violet
      '#ffa500', // orange
      '#ffff00'  // yellow
    ];
    function createBalloon() {
      const balloon = document.createElement('div');
      balloon.className = 'balloon';
      const color = balloonColors[Math.floor(Math.random() * balloonColors.length)];
      balloon.style.position = 'fixed';
      balloon.style.top = '-120px';
      balloon.style.left = Math.random() * (window.innerWidth - 80) + 'px';
      balloon.style.width = '80px';
      balloon.style.height = '100px';
      balloon.style.background = color;
      balloon.style.borderRadius = '40px / 50px';
      balloon.style.boxShadow = 'rgba(0, 0, 0, 0.8) 0px 10px 30px';
      balloon.style.zIndex = '9999';
      balloon.style.border = '3px solid rgb(255, 255, 255)';
      
      // Remove animation and make balloons static and visible
      balloon.style.animation = 'balloonDrop 3.5s cubic-bezier(0.23, 1, 0.32, 1) forwards';
      balloon.style.opacity = '1';
      balloon.style.visibility = 'visible';
      balloon.style.pointerEvents = 'none';
      
      // Add a string
      const string = document.createElement('div');
      string.style.position = 'absolute';
      string.style.left = '50%';
      string.style.top = '100px';
      string.style.width = '2px';
      string.style.height = '30px';
      string.style.background = '#aaa';
      string.style.transform = 'translateX(-50%)';
      balloon.appendChild(string);
      
      // Attach a photo to about 80% of balloons (very high probability)
      const photoImages = [
        'assets/birthday.jpeg',
        'assets/images/Screenshot 2025-08-22 122014.png',
        'assets/images/Screenshot 2025-08-22 122059.png',
        'assets/images/Screenshot 2025-08-22 122217.png',
        'assets/images/Screenshot 2025-08-22 122833.png',
        
      ];
      
      if (Math.random() < 0.8) { // 80% chance
        const img = document.createElement('img');
        const randomImage = photoImages[Math.floor(Math.random() * photoImages.length)];
        img.src = randomImage;
        img.className = 'balloon-photo';
        img.alt = 'memory photo';
        img.style.width = '70px';
        img.style.height = '70px';
        img.style.border = '5px solid #fff';
        img.style.boxShadow = '0 8px 25px #ff69b4ff, 0 4px 15px #ffd700ff';
        img.style.borderRadius = '50%';
        img.style.position = 'absolute';
        img.style.left = '50%';
        img.style.top = '130px';
        img.style.transform = 'translateX(-50%)';
        img.style.zIndex = '9999';
        img.style.objectFit = 'cover';
        img.style.display = 'block';
        img.style.opacity = '1';
        img.style.visibility = 'visible';
        
        img.onload = function() {
          console.log('‚úÖ Photo loaded successfully:', randomImage);
        };
        img.onerror = function() { 
          console.log('‚ùå Photo failed to load:', randomImage);
          this.style.background = '#ffd6e0';
          this.style.border = '5px solid #ff0000';
        };
        
        balloon.appendChild(img);
        console.log('üéà Added photo to balloon:', randomImage);
      }
      
      document.body.appendChild(balloon);
      console.log('üéà Created balloon with color:', color);
      // Remove balloons after animation completes
      setTimeout(() => balloon.remove(), 4000);
    }
    function dropBalloons(count = 12) {
      for (let i = 0; i < count; i++) {
        setTimeout(createBalloon, i * 200 + Math.random() * 200);
      }
    }
    // Confetti
    function confettiBurst(count = 80) {
      const confetti = document.getElementById('confetti');
      confetti.innerHTML = '';
      const colors = ['#ff69b4', '#ffd700', '#87ceeb', '#32cd32', '#ff6347', '#8a2be2', '#ffb6c1', '#fff'];
      for (let i = 0; i < count; i++) {
        const piece = document.createElement('div');
        piece.className = 'confetti-piece';
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        piece.style.left = Math.random() * 100 + 'vw';
        piece.style.top = (Math.random() * 20 + 10) + 'vh';
        piece.style.transform = `rotate(${Math.random()*360}deg)`;
        piece.style.opacity = Math.random() * 0.5 + 0.5;
        piece.style.transition = 'all 2.2s cubic-bezier(0.23, 1, 0.32, 1)';
        confetti.appendChild(piece);
        setTimeout(() => {
          piece.style.top = (Math.random() * 60 + 30) + 'vh';
          piece.style.left = Math.random() * 100 + 'vw';
          piece.style.opacity = 0;
        }, 100);
        setTimeout(() => piece.remove(), 2500);
      }
    }
    // Fireworks
    function fireworksBurst(times = 5) {
      const fireworks = document.getElementById('fireworks');
      fireworks.innerHTML = '';
      for (let t = 0; t < times; t++) {
        setTimeout(() => {
          const x = 40 + Math.random()*20;
          const y = 30 + Math.random()*20;
          firework(x, y);
        }, t * 600);
      }
    }
    function firework(x, y) {
      const fireworks = document.getElementById('fireworks');
      const fw = document.createElement('div');
      fw.className = 'firework';
      fw.style.left = x + 'vw';
      fw.style.top = y + 'vh';
      for (let i = 0; i < 18; i++) {
        const dot = document.createElement('div');
        dot.className = 'firework-dot';
        const color = ['#ff69b4', '#ffd700', '#87ceeb', '#32cd32', '#ff6347', '#8a2be2', '#ffb6c1'][i%7];
        dot.style.background = color;
        const angle = (i/18) * 2 * Math.PI;
        const dist = 60 + Math.random()*30;
        dot.style.left = '0px';
        dot.style.top = '0px';
        fw.appendChild(dot);
        setTimeout(() => {
          dot.style.transition = 'all 1.2s cubic-bezier(0.23, 1, 0.32, 1)';
          dot.style.transform = `translate(${Math.cos(angle)*dist}px, ${Math.sin(angle)*dist}px) scale(1.2)`;
          dot.style.opacity = 0;
        }, 50);
        setTimeout(() => dot.remove(), 1400);
      }
      fireworks.appendChild(fw);
      setTimeout(() => fw.remove(), 1500);
    }
    // Stars/Hearts float up
    function floatUpHeartsStars(count = 12) {
      const icons = ['üíñ','‚≠ê','üíó','‚ú®','üíù','üåü','üíû','üíú'];
      for (let i = 0; i < count; i++) {
        setTimeout(() => {
          const el = document.createElement('div');
          el.className = 'floatup';
          el.innerText = icons[Math.floor(Math.random()*icons.length)];
          el.style.left = (45 + Math.random()*10) + 'vw';
          el.style.fontSize = (2 + Math.random()*1.5) + 'rem';
          document.body.appendChild(el);
          setTimeout(() => el.remove(), 2600);
        }, i * 120 + Math.random()*100);
      }
    }
    // Word-by-word animation
    const greetingText = 'Happy Birthday, panda, duggu & doggy!';
    const messageText = `Wishing you a day filled with laughter, love, and all the happiness your heart can hold. May your year ahead sparkle with joy and bring you endless reasons to smile. You are cherished more than words can say. Enjoy every moment of your special day!
<br>`
    function animateText(element, text, delay = 120) {
      element.innerHTML = '';
      const words = text.split(' ');
      words.forEach((word, i) => {
        setTimeout(() => {
          element.innerHTML += (i === 0 ? '' : ' ') + `<span style=\"opacity:0;display:inline-block;animation:fadeInWord 0.5s forwards;animation-delay:${i*0.12}s;\">${word}</span>`;
        }, i * delay);
      });
    }
    // Fade in for each word
    const style = document.createElement('style');
    style.innerHTML = `@keyframes fadeInWord { from { opacity: 0; transform: translateY(20px);} to { opacity: 1; transform: translateY(0);} }`;
    document.head.appendChild(style);
    // Envelope open logic
    function openEnvelope() {
      document.getElementById('envelope').style.display = 'none';
      const letter = document.getElementById('letterReveal');
      letter.style.display = 'flex';
      setTimeout(() => letter.classList.add('show'), 100);
      document.getElementById('clickHint').style.display = 'none';
      animateText(document.getElementById('greeting'), greetingText, 120);
      setTimeout(() => {
        animateText(document.getElementById('message'), messageText, 80);
        floatUpHeartsStars(18);
        fireworksBurst(5);
        document.getElementById('replayBtn').style.display = 'inline-block';
      }, 120 * greetingText.split(' ').length + 400);
      confettiBurst(80);
      // Create more balloons with photos when envelope is opened
      dropBalloons(20); // Increased number of balloons
    }
    // Replay button logic
    document.getElementById('replayBtn').onclick = function() {
      window.location.href = '22.html';
    };
    // Create initial balloons when page loads
    setTimeout(() => {
      dropBalloons(8);
    }, 1000);
    
    // Create more balloons periodically
    setInterval(() => {
      dropBalloons(3);
    }, 3000);
    
    // Create balloons immediately
    dropBalloons(10);
    floatUpHeartsStars(20);
    document.getElementById('envelope').addEventListener('click',()=>{
      audio.play();
    });
  </script>
</body>
</html> 